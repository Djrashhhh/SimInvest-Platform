# Production Configuration
server.port=${PORT:8080}

# Database configuration for Railway
spring.datasource.url=jdbc:postgresql://${PGHOST}:${PGPORT:5432}/${PGDATABASE}
spring.datasource.username=${PGUSER}
spring.datasource.password=${PGPASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false

# CORS Configuration for production
spring.web.cors.allowed-origins=${FRONTEND_URL:*}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# JWT Configuration
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration=${JWT_EXPIRATION:86400000}

# API Keys
finnhub.api-key=${FINNHUB_API_KEY}
newsapi.key=${NEWSAPI_KEY}
newsapi.base-url=https://newsapi.org/v2
newsapi.cache-duration=900
newsapi.max-page-size=100

# Circuit Breaker & Cache settings
market-data.scheduler.enable-pre-market-validation=true
market-data.scheduler.enable-data-cleanup=true
market-data.scheduler.enable-extended-hours=true
market-data.scheduler.enable-data-quality-checks=true
market-data.scheduler.circuit-breaker.enabled=true
market-data.scheduler.circuit-breaker.failure-threshold=5
market-data.scheduler.circuit-breaker.timeout-minutes=5
market-data.scheduler.circuit-breaker.max-retry-attempts=3
market-data.cache.enable-caching=true
market-data.cache.quote-cache-hours=1
market-data.cache.historical-cache-hours=24

# Settlement Scheduler
settlement.scheduler.pool-size=10

# Production logging
logging.level.com.example.MicroInvestApp=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.root=WARN

# Debug logging
logging.level.org.springframework.boot=INFO
logging.level.org.springframework.web=INFO

# Security
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never

# Actuator Configuration for production
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always


logging.level.org.springframework.boot.diagnostics=DEBUG